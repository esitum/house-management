<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>

    <!-- Your Firebase Configuration and Initialization Script -->
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
      apiKey: "AIzaSyCBiW7bj81KvugybJ-P_0-PgUp7JoMx3_E",
  authDomain: "housemanagement-c87e5.firebaseapp.com",
  projectId: "housemanagement-c87e5",
  storageBucket: "housemanagement-c87e5.appspot.com",
  messagingSenderId: "669986369052",
  appId: "1:669986369052:web:83ee6128e2ed1f3e5df9d9"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
</head>
<body>
    <div class="container mt-5">
        <h2 class="mb-4">House Management</h2>

        <!-- Add House Form -->
        <div class="mb-4">
            <input type="text" id="address" class="form-control" placeholder="Address">
            <input type="number" id="numberOfPeople" class="form-control mt-2" placeholder="Number of People">
            <input type="number" id="status" class="form-control mt-2" placeholder="Status">
            <button onclick="addHouse()" class="btn btn-primary mt-3">Add House</button>
        </div>

        <!-- House List -->
        <h4>House List</h4>
        <ul id="houseList" class="list-group"></ul>
    </div>

    <script>
        // Function to Add House
        function addHouse() {
            const address = document.getElementById('address').value;
            const numberOfPeople = document.getElementById('numberOfPeople').value;
            const status = document.getElementById('status').value;

            db.collection("houses").add({
                address: address,
                numberOfPeople: Number(numberOfPeople),
                status: Number(status)
            }).then((docRef) => {
                console.log("Document written with ID: ", docRef.id);
                displayHouses();
            }).catch((error) => {
                console.error("Error adding document: ", error);
            });
        }

        // Function to Display Houses
        function displayHouses() {
            db.collection("houses").get().then((querySnapshot) => {
                const houseList = document.getElementById('houseList');
                houseList.innerHTML = '';
                querySnapshot.forEach((doc) => {
                    const house = doc.data();
                    const li = document.createElement('li');
                    li.className = 'list-group-item';
                    li.textContent = `Address: ${house.address}, Number of People: ${house.numberOfPeople}, Status: ${house.status}`;
                    houseList.appendChild(li);
                });
            });
        }

        // Initial Fetch of Houses
        displayHouses();
    </script>
</body>
</html>
